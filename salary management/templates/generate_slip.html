{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h2>Generate Salary Slip for {{ employee[1] }}</h2>
    </div>
    
    <div class="form-container">
        <form method="POST" action="{{ url_for('create_slip') }}" class="slip-form">
            <input type="hidden" name="employee_id" value="{{ employee[0] }}">
            
            <div class="employee-info">
                <h3>Employee Information</h3>
                <p><strong>Name:</strong> {{ employee[1] }}</p>
                <p><strong>Email:</strong> {{ employee[2] }}</p>
                <p><strong>Position:</strong> {{ employee[3] }}</p>
                <p><strong>Department:</strong> {{ employee[4] }}</p>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="month">Month:</label>
                    <select id="month" name="month" required>
                        <option value="">Select Month</option>
                        <option value="January">January</option>
                        <option value="February">February</option>
                        <option value="March">March</option>
                        <option value="April">April</option>
                        <option value="May">May</option>
                        <option value="June">June</option>
                        <option value="July">July</option>
                        <option value="August">August</option>
                        <option value="September">September</option>
                        <option value="October">October</option>
                        <option value="November">November</option>
                        <option value="December">December</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="year">Year:</label>
                    <input type="number" id="year" name="year" value="2024" min="2020" max="2030" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="slip_date">Salary Slip Date:</label>
                <input type="date" id="slip_date" name="slip_date" required>
            </div>
            
            <div class="form-group">
                <label for="basic_salary">Basic Salary:</label>
                <input type="number" id="basic_salary" name="basic_salary" step="0.01" value="{{ employee[5] }}" required>
            </div>
            
            <div class="form-group">
                <label for="allowances">Allowances:</label>
                <input type="number" id="allowances" name="allowances" step="0.01" value="{{ employee[6] }}">
            </div>
            
            <div class="form-group">
                <label for="deductions">Deductions:</label>
                <input type="number" id="deductions" name="deductions" step="0.01" value="{{ employee[7] }}">
            </div>
            
            <div class="salary-preview">
                <h4>Salary Preview</h4>
                <p>Gross Salary: <strong>₹</strong><span id="gross-salary">0.00</span></p>
                <p>Net Salary: <strong>₹</strong><span id="net-salary">0.00</span></p>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-cta">Generate Slip</button>
                <a href="{{ url_for('employees') }}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}